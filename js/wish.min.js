(()=>{var h=(t,l,e)=>new Promise((n,a)=>{var o=i=>{try{s(e.next(i))}catch(r){a(r)}},c=i=>{try{s(e.throw(i))}catch(r){a(r)}},s=i=>i.done?n(i.value):Promise.resolve(i.value).then(o,c);s((e=e.apply(t,l)).next())});p().then();function p(){return h(this,null,function*(){let l=yield f("https://docs.google.com/spreadsheets/d/1eEEOiFsyWbqZhFejs7wX7ALFCXanm08CbkFDP52L-2Y/export?format=csv&gid=542974818");if(l.error)return;let e=w(l);console.log(e);let n=document.querySelector("#carouselWish"),a=n.querySelector(".carousel-inner");window.innerWidth<768?(a.replaceWith(E(e)),e.length>1&&(n.querySelector(".carousel-control-prev").classList.remove("d-none"),n.querySelector(".carousel-control-next").classList.remove("d-none"))):(a.replaceWith(N(e)),e.length>3&&(n.querySelector(".carousel-control-prev").classList.remove("d-none"),n.querySelector(".carousel-control-next").classList.remove("d-none")))})}function f(t){return new Promise(l=>{fetch(t,{method:"GET"}).then(function(e){return e.text()}).then(function(e){l(e)}).catch(function(){l({error:"API: Network request failed."})})})}function g(t){let l="",e=[""],n=[e],a=0,o=0,c=!0,s;for(s of t)s==='"'?(c&&s===l&&(e[a]+=s),c=!c):s===","&&c?s=e[++a]="":s===`
`&&c?(l==="\r"&&(e[a]=e[a].slice(0,-1)),e=n[++o]=[s=""],a=0):e[a]+=s,l=s;return n}function w(t){let l=g(t);l.shift();let e=[];return l.forEach(n=>{if(!n[1]||!n[2]||!n[4])return;let a=n[5]?n[5].trim():null;e.push({name:n[1],wish:n[2],avatarUrl:a})}),C(e)}function C(t){for(let l=t.length-1;l>0;l--){let e=Math.floor(Math.random()*(l+1));[t[l],t[e]]=[t[e],t[l]]}return t}function E(t){let l=document.createElement("div");l.className="carousel-inner";for(let e=0;e<t.length;e++){let n=document.createElement("div");n.className=e===0?"carousel-item active":"carousel-item";let a=document.createElement("div");a.className="row g-0 mb-2";let o=document.createElement("div");o.className="col-12 col-lg-2";let c=document.createElement("div");c.className="col-12 col-lg-8";let s=document.createElement("div");s.className="p-3 h-100";let i=document.createElement("div");i.className="p-4 shadow rounded-3 h-100 position-relative";let r=document.createElement("div");r.className="text-center mt-3 mb-5";let m=t[e].avatarUrl?t[e].avatarUrl:"images/user.png";r.innerHTML=`<img class="wish-avatar" src="${m}" alt="">`;let u=document.createElement("div");u.className="fst-italic text-justify break-spaces wish-content",u.textContent=t[e].wish;let d=document.createElement("div");d.className="wish-guest-name",d.innerHTML=`<div class="d-flex small">
      <div class="me-3">
        <img class="glass-icon" src="images/glass.png" alt="">
      </div>
      <div class="fw-bold d-flex middle">
        <div>
          <div>L\u1EDDi ch\xFAc t\u1EEB</div>
          <div>${t[e].name}</div>
      </div>
    </div>`,l.appendChild(n),n.appendChild(a),a.appendChild(o),a.appendChild(c),c.appendChild(s),s.appendChild(i),i.appendChild(r),i.appendChild(u),i.appendChild(d)}return l}function N(t){let l=document.createElement("div");l.className="carousel-inner";for(let e=0;e<t.length&&!(e>=t.length);e+=3){let n=document.createElement("div");n.className=e===0?"carousel-item active":"carousel-item";let a=document.createElement("div");a.className="row g-0 mb-2";for(let o=0;o<3;o++){let c=e+o;if(c<t.length){let s=document.createElement("div");s.className="col-12 col-lg-4";let i=document.createElement("div");i.className="p-3 h-100";let r=document.createElement("div");r.className="p-4 shadow rounded-3 h-100 position-relative";let m=document.createElement("div");m.className="text-center mt-3 mb-5";let u=t[c].avatarUrl?t[c].avatarUrl:"images/user.png";m.innerHTML=`<img class="wish-avatar" src="${u}" alt="">`;let d=document.createElement("div");d.className="fst-italic text-justify break-spaces wish-content",d.textContent=t[c].wish;let v=document.createElement("div");v.className="wish-guest-name",v.innerHTML=`<div class="d-flex small">
          <div class="me-3">
            <img class="glass-icon" src="images/glass.png" alt="">
          </div>
          <div class="fw-bold d-flex middle">
            <div>
              <div>L\u1EDDi ch\xFAc t\u1EEB</div>
              <div>${t[c].name}</div>
          </div>
        </div>`,a.appendChild(s),s.appendChild(i),i.appendChild(r),r.appendChild(m),r.appendChild(d),r.appendChild(v)}}n.appendChild(a),l.appendChild(n)}return l}})();
