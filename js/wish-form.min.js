(()=>{var h=(n,c,o)=>new Promise((s,i)=>{var t=r=>{try{d(o.next(r))}catch(l){i(l)}},u=r=>{try{d(o.throw(r))}catch(l){i(l)}},d=r=>r.done?s(r.value):Promise.resolve(r.value).then(t,u);d((o=o.apply(n,c)).next())});var e=document.querySelector(".wish .wish-form"),m=e.querySelector("button.btn-submit"),y=e.querySelector("button.btn-loading"),p=e.querySelector("button.btn-done"),L=e.querySelector("button.btn-error"),f=e.querySelector("input.name"),b=e.querySelector("textarea.wish");m.addEventListener("click",function(n){return h(this,null,function*(){if(n.preventDefault(),e.classList.remove("was-validated"),!e.checkValidity()){e.classList.add("was-validated");return}if(a(y),(yield v(f.value,b.value)).error){a(L),w();return}a(p),f.value="",b.value="",w()})});function v(n,c){return new Promise(o=>{let s=new FormData;s.append("name",n),s.append("wish",c),fetch("https://script.google.com/macros/s/AKfycbzVFOHPsIx2NE4VkllbUumO2BZ_yM3NtbRY11EmwpBVjiujGDufHu4JzEcYZCTA5Y7CcQ/exec",{method:"POST",body:s}).then(t=>t.ok?t:t.text().then(u=>({error:u}))).then(t=>{o(t)}).catch(t=>{o({error:t.message})})})}function a(n){m.classList.add("d-none"),y.classList.add("d-none"),p.classList.add("d-none"),L.classList.add("d-none"),n.classList.remove("d-none")}function w(){setTimeout(()=>{a(m)},2500)}})();
